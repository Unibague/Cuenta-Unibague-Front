(self["webpackChunkcuenta"]=self["webpackChunkcuenta"]||[]).push([[521],{5521:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return y}});var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("MainLayout",[a("div",{staticClass:"h-full w-full flex flex-col items-center justify-center"},[a("div",{staticClass:"mb-10"},[a("h1",{staticClass:"text-3xl"},[e._v(" Cambio de contraseña ")]),a("p",{staticClass:"text-lg"},[e._v(" Si deseas cambiar tu contraseña, por favor diligencia los campos solicitados. ")])]),e.showForm?a("div",{staticClass:"px-3 py-4 border shadow rounded-lg bg-gray-100  md:w-1/2 lg:w-1/4"},[e.isVerified?e._e():[a("div",{staticClass:"text-left mb-2"},[a("label",{staticClass:"font-semibold block mb-2",attrs:{for:"user"}},[e._v("Usuario Unibagué")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.value,expression:"user.value"}],staticClass:"rounded border px-3 py-1 w-full",attrs:{type:"text",id:"user",placeholder:"juan.ospina"},domProps:{value:e.user.value},on:{input:function(s){s.target.composing||e.$set(e.user,"value",s.target.value)}}})]),a("div",{staticClass:"text-left my-4"},[a("label",{staticClass:"font-semibold block my-2",attrs:{for:"role"}},[e._v("Eres un ...")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.role.value,expression:"role.value"}],staticClass:"rounded border px-3 py-1.5 w-full bg-white",attrs:{type:"date",id:"role"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.$set(e.role,"value",s.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[e._v("Estudiante o egresado")]),a("option",{attrs:{value:"1"}},[e._v("Administrativo")])])]),a("div",{staticClass:"text-left mt-4"},[a("label",{staticClass:"font-semibold block my-2",attrs:{for:"password"}},[e._v("Contraseña actual")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password.value,expression:"password.value"}],staticClass:"rounded border px-3 py-1 w-full",attrs:{type:"password",id:"password"},domProps:{value:e.password.value},on:{input:function(s){s.target.composing||e.$set(e.password,"value",s.target.value)}}})])],a("div",{staticClass:"text-left mt-4"},[a("label",{staticClass:"font-semibold block my-2",attrs:{for:"newPassword"}},[e._v("Nueva contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword.value,expression:"newPassword.value"}],staticClass:"rounded border px-3 py-1 w-full",attrs:{type:"password",id:"newPassword"},domProps:{value:e.newPassword.value},on:{input:function(s){s.target.composing||e.$set(e.newPassword,"value",s.target.value)}}}),a("p",{staticClass:"mt-3"},[a("span",{domProps:{innerHTML:e._s(e.getIcon("UPPERCASE"))}}),e._v(" Debe contener letras mayúsculas ")]),a("p",[a("span",{domProps:{innerHTML:e._s(e.getIcon("LOWERCASE"))}}),e._v(" Debe contener letras minúsculas ")]),a("p",[a("span",{domProps:{innerHTML:e._s(e.getIcon("MIN_LENGTH"))}}),e._v(" Debe tener una longitud de mínimo 8 caracteres ")]),a("p",[a("span",{domProps:{innerHTML:e._s(e.getIcon("DIGITS"))}}),e._v(" Debe contener al menos un número ")])]),a("div",{staticClass:"text-left mt-3"},[a("label",{staticClass:"font-semibold block my-2",attrs:{for:"confirmNewPassword"}},[e._v("Confirma tu nueva contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmNewPassword.value,expression:"confirmNewPassword.value"}],staticClass:"rounded border px-3 py-1 w-full",attrs:{type:"password",id:"confirmNewPassword"},domProps:{value:e.confirmNewPassword.value},on:{input:function(s){s.target.composing||e.$set(e.confirmNewPassword,"value",s.target.value)}}}),a("p",{staticClass:"mt-2"},[e._v(" "+e._s(e.confirmNewPassword.errors)+" ")])]),a("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 justify-between w-full mt-4 "},[a("div",[a("router-link",{staticClass:"rounded py-2 text-center w-full bg-gray-200 block",attrs:{to:{name:"home"}}},[e._v(" Ir atrás ")])],1),a("div",[a("button",{staticClass:"rounded py-2 text-center w-full text-white",class:{"cursor-not-allowed":!e.isFormValid},staticStyle:{"background-color":"#0f1f39"},attrs:{disabled:!e.isFormValid},on:{click:e.submitForm}},[e._v(" Cambiar ")])])])],2):a("div",{staticClass:"px-3 py-4 border shadow rounded-lg bg-gray-100  md:w-1/2 lg:w-1/4"},[e._v(" "+e._s(e.message)+" "),e.notFound?a("button",{staticClass:" rounded py-2 text-center mt-3 w-full text-white",staticStyle:{"background-color":"#0f1f39"},on:{click:function(s){e.showForm=!0}}},[e._v(" Ir atrás ")]):a("router-link",{staticClass:"rounded py-2 text-center mt-3 w-full text-white block",staticStyle:{"background-color":"#0f1f39"},attrs:{to:{name:"home"}}},[e._v(" Ir atrás ")])],1)])])},r=[],o=(a(6699),a(5952)),n=(a(1703),["123456789","password","12345678","password1","1234567890","iloveyou","1q2w3e4r5t","qwertyuiop","myspace1","1qaz2wsx","target123","1g2w3e4r","gwerty123","zag12wsx","1q2w3e4r","987654321","qwerty123","asdfghjkl","123123123","computer","iloveyou1","fuckyou1","princess","789456123","11111111","princess1","linkedin","sunshine","football","1234qwer","j38ifUbn","football1","123456789a","abcd1234","jordan23","88888888","12qwaszx","FQRG7CS493","superman","blink182","michael1","babygirl1","baseball","0123456789","iloveyou2","147258369","michelle","q1w2e3r4","jessica1","qwer1234","liverpool","fuckyou2","1111111111","qazwsxedc","baseball1","0987654321","anthony1","jennifer","00000000","29rsavoy","basketball","qwerty12","charlie1","passw0rd","asshole1","superman1","password12","sunshine1","babygirl","trustno1","asdf1234","chocolate","password2","12341234","samantha","12344321","q1w2e3r4t5y6","qweasdzxc","internet","a123456789","VQsaBLPzLa","hello123","butterfly","1qazxsw2","cjmasterinf","brandon1","1234567891","whatever","alexander","PE#5GZ29PTZMSE","dpbk1234","DIOSESFIEL","pakistan","123654789","matthew1","3rJs1la7qE","пїЅпїЅпїЅпїЅпїЅпїЅ","barcelona","computer1","michelle1","12345678910","jonathan","liverpool1","mercedes","11223344","victoria","12345qwert","111222tianya","william1","chicken1","0000000000","jasmine1","benjamin","welcome1","starwars","christian","1234554321","chocolate1","butterfly1","q1w2e3r4t5","slipknot","zaq12wsx","147852369","elizabeth","87654321","1password","america1","metallica","chelsea1","1234567a","iw14Fi9j","juventus","jennifer1","999999999","elizabeth1","123qweasd","tinkerbell","samantha1","Sojdlg123aljg","myspace123","freedom1","whatever1","valentina","741852963","spongebob1","1234abcd","hellokitty","madison1","cocacola","nicholas","qwertyui","spiderman","diamond1","danielle","pokemon1","mustang1","1qaz2wsx3edc","justinbieb","friends1","asdfasdf","qwerty12345","123hfjdk147","password123","iloveyou!","fuckoff1","bubbles1","a1b2c3d4","123456789q","heather1","4815162342","yankees1","asdfghjkl1","1q2w3e4r5t6y","patrick1","12121212","alexander1","raiders1","Password1","sebastian","zxcvbnm1","melissa1","slipknot1","spiderman1","cowboys1","a1234567","november","alexandra","veronica","cristina","newyork1","jackson1","iloveyou12","PolniyPizdec0211","password!","a838hfiD","richard1","beautiful1","carolina","patricia","stephanie","421uiopy258","myspace2","scorpion","monster1","elephant","963852741","destiny1","123456abc","december","9876543210","manchester","midnight","12345678a","пїЅпїЅпїЅпїЅпїЅпїЅпїЅ","kristina","lovelove","gangsta1","charlotte","scooter1","caroline","super123","marseille","metallica1","beautiful","danielle1","blessed1","1029384756","qazwsx123","california","christian1","arsenal1","babyboy1","1122334455","aa123456","forever1","Password","1a2b3c4d","playboy1","creative","пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ","maverick","brittany1","letmein1","cameron1","spongebob","uQA9Ebw445","fernando","startfinding","softball","dolphin1","qwerty1234","alejandro","september","isabella","abc123456","password3","abcdefg123","loveyou1","leonardo","password.","samsung1","qwert123","poohbear","garfield","YAgjecc826","qwerty123456","steelers","iloveme1","nicholas1","portugal","precious","jackass1","jonathan1","rainbow1","angel123","fuckyou!","starwars1","tiffany1","poohbear1","marlboro","hardcore","1234512345","qq123456","abcdefg1","crystal1","azertyuiop","angelina","svetlana","icecream","popcorn1","victoria1","twilight","brittany","snickers","aaaaaaaa","swordfish","fyfcnfcbz","rockstar1","yourmom1","christine","steelers1","shannon1","peaches1","florida1","stephanie1","lollipop","greenday1","iverson3","motorola","rockstar","lakers24","southside1","bismillah","pa55word","emmanuel","5555555555","password11","love4ever","greenday","isabelle","babygurl1","santiago","chester1","kimberly","happy123","55555555","satan666","francesco","vanessa1","a12345678","corvette","realmadrid","1123581321","soccer12","fktrcfylh","qwert12345","1v7Upjw3nT","p@ssw0rd","thunder1","zxcvbnm123","midnight1","lebron23","strawberry","love1234","soccer10"]);const i={MIN_LENGTH:"MIN_LENGTH",MAX_LENGTH:"MAX_LENGTH",BLACKLIST:"BLACKLIST",DIGITS:"DIGITS",LETTERS:"LETTERS",UPPERCASE:"UPPERCASE",LOWERCASE:"LOWERCASE",SYMBOLS:"SYMBOLS"};function l(e){return/\d+/.test(e)}function c(e){return e.toUpperCase()!==e}function u(e){return e.toLowerCase()!==e}function d(e){return/[`~\!@#\$%\^\&\*\(\)\-_\=\+\[\{\}\]\\\|;:'",<.>\/\?€£¥₹]+/.test(e)}function w(e){return/[a-zA-Z]+/.test(e)}function m(e,s={}){const a=[],t=s.minLength||8,r=s.maxLength||100,o=s.blackList||n,m=void 0===s.letters||s.letters,p=s.digits,f=s.uppercase,v=s.lowercase,h=s.symbols;if(t<8)throw new RangeError("minLength must be bigger than 8");if(r<50)throw new RangeError("maxLength must be bigger than 50");return e.length<t&&a.push(i.MIN_LENGTH),e.length>r&&a.push(i.MAX_LENGTH),p&&!l(e)&&a.push(i.DIGITS),m&&!w(e)&&a.push(i.LETTERS),f&&!u(e)&&a.push(i.UPPERCASE),v&&!c(e)&&a.push(i.LOWERCASE),h&&!d(e)&&a.push(i.SYMBOLS),!a.length&&o.includes(e)&&a.push(i.BLACKLIST),{valid:!a.length,errors:a}}var p=a(6166),f=a.n(p),v={name:"ChangePasswordView",components:{MainLayout:o.Z},data(){return{notFound:!0,isVerified:!1,token:"",message:"",showForm:!0,user:{value:""},password:{value:""},role:{value:0},newPassword:{value:"",errors:""},confirmNewPassword:{value:"",errors:""}}},created(){this.isVerified=!0},computed:{isFormValid(){return this.newPassword.value.length>0&&0===this.newPassword.errors.length&&this.confirmNewPassword.value===this.newPassword.value}},methods:{async verifyHasToken(){const e=this.$route.query.token;if(void 0===e||null===e||""===e)return void(this.isVerified=!1);this.token=e;const s="https://cuenta.unibague.edu.co:8444",a=s+"/verifyToken",t={token:this.token};try{await f().post(a,t),this.isVerified=!0}catch(r){this.isVerified=!1}},async submitForm(){if(!this.isFormValid)return;const e="https://cuenta.unibague.edu.co:8444",s=e+"/changePassword";let a={};a=this.isVerified?{newPassword:this.newPassword.value,confirmNewPassword:this.confirmNewPassword.value,token:this.token,role:this.role.value}:{user:this.user.value,password:this.password.value,newPassword:this.newPassword.value,confirmNewPassword:this.confirmNewPassword.value,role:this.role.value};try{let e=await f().post(s,a);this.message=e.data.message,this.notFound=!1}catch(t){this.notFound=!0,this.message=t.response.data.message}this.showForm=!1},getIcon(e){return 0===this.newPassword.value.length?"":this.newPassword.errors.includes(e)?'<i class="fa-solid fa-circle-xmark" style="color:red"></i>':'<i class="fa-solid fa-circle-check" style="color:green"></i>'}},watch:{"newPassword.value"(e,s){const a={digits:!0,letters:!0,uppercase:!0,lowercase:!0},t=m(e,a);this.newPassword.errors=t.errors},"confirmNewPassword.value"(e,s){e!==this.newPassword.value?this.confirmNewPassword.errors="Las contraseñas no coinciden":this.confirmNewPassword.errors=""}}},h=v,b=a(1001),g=(0,b.Z)(h,t,r,!1,null,null,null),y=g.exports},1223:function(e,s,a){var t=a(5112),r=a(30),o=a(3070).f,n=t("unscopables"),i=Array.prototype;void 0==i[n]&&o(i,n,{configurable:!0,value:r(null)}),e.exports=function(e){i[n][e]=!0}},30:function(e,s,a){var t,r=a(9670),o=a(6048),n=a(748),i=a(3501),l=a(490),c=a(317),u=a(6200),d=">",w="<",m="prototype",p="script",f=u("IE_PROTO"),v=function(){},h=function(e){return w+p+d+e+w+"/"+p+d},b=function(e){e.write(h("")),e.close();var s=e.parentWindow.Object;return e=null,s},g=function(){var e,s=c("iframe"),a="java"+p+":";return s.style.display="none",l.appendChild(s),s.src=String(a),e=s.contentWindow.document,e.open(),e.write(h("document.F=Object")),e.close(),e.F},y=function(){try{t=new ActiveXObject("htmlfile")}catch(s){}y="undefined"!=typeof document?document.domain&&t?b(t):g():b(t);var e=n.length;while(e--)delete y[m][n[e]];return y()};i[f]=!0,e.exports=Object.create||function(e,s){var a;return null!==e?(v[m]=r(e),a=new v,v[m]=null,a[f]=e):a=y(),void 0===s?a:o.f(a,s)}},6048:function(e,s,a){var t=a(9781),r=a(3353),o=a(3070),n=a(9670),i=a(5656),l=a(1956);s.f=t&&!r?Object.defineProperties:function(e,s){n(e);var a,t=i(s),r=l(s),c=r.length,u=0;while(c>u)o.f(e,a=r[u++],t[a]);return e}},1956:function(e,s,a){var t=a(6324),r=a(748);e.exports=Object.keys||function(e){return t(e,r)}},6699:function(e,s,a){"use strict";var t=a(2109),r=a(1318).includes,o=a(7293),n=a(1223),i=o((function(){return!Array(1).includes()}));t({target:"Array",proto:!0,forced:i},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=521.093a67c0.js.map